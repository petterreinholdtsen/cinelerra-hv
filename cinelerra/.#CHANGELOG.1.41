11/7/01

Mask feathering and value implemented.  Crash bug in
CWindowMaskGUI::get_keyframe fixed.





11/22/01

Removed memory leak in VirtualConsole.  Another case of base destructor
calling base methods only.

Time average finally implemented. Deinterlace implemented.

Translation in screencapture recording implemented.

AVI parameter editing box.

Drag and drop of assets during an index build doesn't lock up. 
Dragging mixtures of audio and video works better.  Better handling of
shared effects which are off.

Batches can be moved up and down the list.





12/6/01

OpenDIVX debugging:

Fixed bugs in decore2: *run = *last = -1; was not copied over from
encore50.

Rewrote bitstream parser in encore2 and decore2 to be more reliable.

Disabled MMX due to crashes in Redhat 7.2.

Discovered decore2 can't do P frames so switched back to decore50.

Renamed header files, symbols to all
in the same program.

Renamed more symbols in mpeg2enc to coexist with opendivx.

To make encore2 work on 64 bit processors:

Typecasted offsets in CompensateBlock and get_ref to (int)

Decore50 still not functional on 64 bit processors.




Implemeneted PNG list output.  Debugged list output and input.

Configuration dialog for OpenDivx in Cinelerra migrated from encore50
to encore2.

Configuration dialog for Vorbis and Vorbis export to Quicktime.

Can use shift-R to render.

DV encoding implemented.  The last libdv library only supported MMX and
B&W.




12/16/01

Moved all OpenDivx support to the encore50 derivative of the encoder. 
This appears to do everything that the encore2 derivative could do at
equal or lesser reliability.

Changed bmp argument for decore50 to 3 member array.  Added quant
argument which, when set to nonzero, fixes the quantization.  OpenDivx
with fixed quantization looks 33% better than MPEG-2.

Direct copy rendering for OpenDivx so output of the renderfarm can be
direct copied into a single file.

Moved all theme support into a plugin.  Resources are no longer
compiled in but concatenated to the binaries.  This made compilation
take less time and should theoretically allow more themes to be
supported without increasing resident set size.

Made ports specific to each render node instead of global.  This way
multiple Cinelerra clients can run on the same box without violating
the single thread requirement of new libraries.

Cinelerra daemon forks to background.  Made assets export more
compression parameters to render nodes.

Vorbis decoding in Quicktime without seeking.  The encoding is probably
not going to change anymore but Vorbis doesn't appear seekable.  No-one
is going to use OpenDivx and Vorbis without an endorsement from
Microsoft anyway.







12/22/01

Seeking support for Quicktime/Vorbis.  Support for Vorbis on 64 bit
processors.  Further debugging of Divx.  Quality of 6 yields errors in
output.  Quality of 5 seems to be the maximum.  Changed fourcc from
VBIS to OggS for vorbis.

To make Vorbis work on 64 bit processors:

change sizeof(int) to sizeof(int*) in lib/floor1.c: 263

Menu effects can paste into the timeline.

Changes in label handling when pasting resources.

Statusbar and zoombar resizing restored.

Implemented code to move plugin sets up and down a level.

Improved table of contents support for libmpeg3.  This scans every byte
of the mpeg files and records the location of every keyframe and every
sample of audio.  The table of contents can then be loaded by
Cinelerra, allowing frame accurate editing from mpeg source material.

A memory allocation bug in the Linux kernel crashes the system when
using mpeg3toc on DVD's so forget about transcoding Starwars on a
render farm.  Don't know who discovered that either.







12/28/01

Ignored the warnings and set -ieee for all files in quicktime to fix
floating point exceptions.  This made it twice as slow but it worked.

Floating point exceptions in the following places were fixable with
certain changes:

vorbis_lpc_predict    ->  A return statement before anything is done.
bark_noise_pointmp    ->  noise[i] could be set to 0
bark_noise_hybridmp   ->  noise[i] could be set to 0

Defining VORBIS_IEEE_FLOAT32 seemed to fix mapping0 crashes so the
preceeding changes were backed out.

Loading XML files with multiple video tracks works better.

Linux 2.4.17 handles DVD table of contents operations better but
crashes after 5 hours of reading a DVD.  You'll have to reboot often to
control memory corruption.







1/4/02

Credit for official Microsoft software even though there isn't any
official Microsoft software. 

Records to DV again but not under kernels after 2.4.7.  

New audio effects:
Tone generator
Reverse audio
Delay audio

3rd attempt to improve main window scrollbars.






1/11/02

New video effects:
Delay video
Reverse video
Swap channels

New audio effects:
Parametric EQ using fast fourier transform.  This isn't standard but 
it gives real gaussian curves.
Spectrogram

Frequency table expanded

Flipped U and V in opendivx encoder so it conforms to YUV order.

Reconfiguration during audio rendering reenabled.

Constitutive reconfiguration for video turned off.  This was used to
debug the memory leaks.

