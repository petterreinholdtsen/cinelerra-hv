***************
*** 196,206 ****
  	int64_t end, 
  	FileXML *file, 
  	int default_only,
- 	int autos_only)
  {
  //printf("Automation::copy 1\n");
  // Always save these to save default
- 	if(mute_autos /* && mute_autos->total() */)
  	{
  		file->tag.set_title("MUTEAUTOS");
  		file->append_tag();
--- 196,217 ----
  	int64_t end, 
  	FileXML *file, 
  	int default_only,
+ 	int autos_only,
+ 	AutoConf *autoconf)
  {
+ 
+ 	AutoConf *temp_autoconf = 0;
+ 
+ 	if(!autoconf)
+ 	{
+ 		temp_autoconf = new AutoConf;
+ 		temp_autoconf->set_all();
+ 		autoconf = temp_autoconf;
+ 	}
+ 
  //printf("Automation::copy 1\n");
  // Always save these to save default
+ 	if(mute_autos && autoconf->mute /* && mute_autos->total() */)
  	{
  		file->tag.set_title("MUTEAUTOS");
  		file->append_tag();
***************
*** 216,222 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(fade_autos /* && fade_autos->total() */)
  	{
  		file->tag.set_title("FADEAUTOS");
  		file->append_tag();
--- 227,233 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(fade_autos && autoconf->fade  /* && fade_autos->total() */)
  	{
  		file->tag.set_title("FADEAUTOS");
  		file->append_tag();
***************
*** 232,238 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(camera_autos)
  	{
  		file->tag.set_title("CAMERAAUTOS");
  		file->append_tag();
--- 243,249 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(camera_autos && autoconf->camera )
  	{
  		file->tag.set_title("CAMERAAUTOS");
  		file->append_tag();
***************
*** 248,254 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(projector_autos)
  	{
  		file->tag.set_title("PROJECTORAUTOS");
  		file->append_tag();
--- 259,265 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(projector_autos && autoconf->projector )
  	{
  		file->tag.set_title("PROJECTORAUTOS");
  		file->append_tag();
***************
*** 264,270 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(pan_autos)
  	{
  		file->tag.set_title("PANAUTOS");
  		file->append_tag();
--- 275,281 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(pan_autos && autoconf->pan )
  	{
  		file->tag.set_title("PANAUTOS");
  		file->append_tag();
***************
*** 281,287 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(mode_autos)
  	{
  		file->tag.set_title("MODEAUTOS");
  		file->append_tag();
--- 292,298 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(mode_autos && autoconf->mode)
  	{
  		file->tag.set_title("MODEAUTOS");
  		file->append_tag();
***************
*** 297,303 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(mask_autos)
  	{
  		file->tag.set_title("MASKAUTOS");
  		file->append_tag();
--- 308,314 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(mask_autos && autoconf->mask)
  	{
  		file->tag.set_title("MASKAUTOS");
  		file->append_tag();
***************
*** 313,319 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(czoom_autos)
  	{
  		file->tag.set_title("CZOOMAUTOS");
  		file->append_tag();
--- 324,330 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(czoom_autos && autoconf->czoom)
  	{
  		file->tag.set_title("CZOOMAUTOS");
  		file->append_tag();
***************
*** 329,335 ****
  	}
  
  //printf("Automation::copy 1\n");
- 	if(pzoom_autos)
  	{
  		file->tag.set_title("PZOOMAUTOS");
  		file->append_tag();
--- 340,346 ----
  	}
  
  //printf("Automation::copy 1\n");
+ 	if(pzoom_autos && autoconf->pzoom)
  	{
  		file->tag.set_title("PZOOMAUTOS");
  		file->append_tag();
***************
*** 344,349 ****
  		file->append_newline();
  	}
  
  //printf("Automation::copy 100\n");
  	return 0;
  }
--- 355,363 ----
  		file->append_newline();
  	}
  
+ 	if (temp_autoconf) 
+ 		delete temp_autoconf;
+ 
  //printf("Automation::copy 100\n");
  	return 0;
  }
