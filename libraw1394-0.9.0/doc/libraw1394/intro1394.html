<HTML
><HEAD
><TITLE
>Short Introduction into IEEE 1394</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.49"><LINK
REL="HOME"
TITLE="libraw1394"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="Introduction"
HREF="introduction.html"><LINK
REL="NEXT"
TITLE="Bus Reset"
HREF="x39.html"></HEAD
><BODY
CLASS="CHAPTER"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>libraw1394: version 0.9</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="introduction.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x39.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="INTRO1394"
>Chapter 2. Short Introduction into IEEE 1394</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="intro1394.html#AEN25"
>Bus Structure</A
></DT
><DT
><A
HREF="x39.html"
>Bus Reset</A
></DT
><DT
><A
HREF="x43.html"
>Transactions</A
></DT
><DT
><A
HREF="x51.html"
>Bus Management</A
></DT
><DT
><A
HREF="x57.html"
>Isochronous Transmissions</A
></DT
></DL
></DIV
><P
>      IEEE 1394 in fact defines two types of hardware implementations for this
      bus system, cable and backplane.  The only one described here and
      supported by the Linux subsystem is the cable implementation.  Most people
      not familiar with the standard probably don't even know that there is
      something else than the 1394 cable specification.
    </P
><P
>      If you are familiar with CSR architectures (as defined in --FIXME--), then
      you already know most of 1394, which is a CSR implementation.
    </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN25"
>Bus Structure</A
></H1
><P
>	The basic data structures defined in the standard and used in this
	document are the quadlet (32 bit quantity) and the octlet (64 bit
	quantity) and blocks (any quantity of bytes).  The bus byte ordering is
	big endian.  A transmission can be sent at one of multiple possible
	speeds, from the slowest 100 Mbit/s over 200 and 400 Mbit/s up to 3.2
	Gbit/s in the future (these speeds are also referred to as S100, S200,
	...).
      </P
><P
>	A 1394 bus consists of up to 64 nodes (with multiple buses possibly
	being connected, but that is outside of the scope of this document and
	not completely standardized yet), each having a local address space with
	48 bit wide addressing.  Each node is addressed with a 16 bit address,
	which is further divided into a 10 bit bus ID and a 6 bit local node ID.
	The highest value for both is a special value.  Bus ID equal to 1023
	means "local bus" (the bus the node is connected to), node ID equal to
	63 means "all nodes" (broadcast).
      </P
><P
>	The whole bus can thus be seen as a linear 64 bit address space by
	concatenating the node address (most significant bits) and and node
	address (least significant bits).  libraw1394 treats them separately in
	function arguments to save the application some fiddling with the bits.
	The node IDs are completely dynamic and determined during the bus reset.
      </P
><P
>	Unlike other buses there aren't many transactions or commands defined,
	higher level commands are defined in terms of addresses accessed instead
	of separate transaction types (comparable to memory mapped registers in
	hardware).  The 1394 transactions are:

	<P
></P
><UL
><LI
><P
>read (quadlets and blocks)</P
></LI
><LI
><P
>write (quadlets and blocks)</P
></LI
><LI
><P
>lock (some atomic modifications)</P
></LI
></UL
>

	There is also the isochronous transaction (the above three are called
	asynchronous transactions), which is a broadcast stream with guaranteed
	bandwidth.  It doesn't contain any address but is distinguished by a 6
	bit channel number.
      </P
><P
>	The bus view is only logical, physically it consists of many
	point-to-point connections between nodes with every node forwarding data
	it receives to every other port which is capable of the speed the
	transaction is sent at (thus a S200 node in the path between two S400
	nodes would limit their communication speed to S200).  It forms a tree
	structure with all but one node having a parent and a number of
	children.  One node is the root node and has no parents.
      </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="introduction.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x39.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Introduction</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Bus Reset</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>